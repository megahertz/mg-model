"use strict";!function(){function t(t,o,r){function c(t,o){return this.scope=this.scope||r.$new(),this.scope.$on(t,o),this}function i(t,o){this.scope&&this.scope.$emit(t,o)}var p=e();return p.$collection=n(p,t,o),p.prototype.$on=p.$collection.prototype.$on=c,p.prototype.$emit=p.$collection.prototype.$emit=i,p}function o(t){function o(){n.apply(this,arguments)}var e=this.$collection,n=this;t.$collection&&(e=t.$collection,delete t.$collection);var r=t.constructor===Object?o:t.constructor;return r.prototype=Object.create(this.prototype),angular.extend(r,this),angular.extend(r.prototype,t),r.prototype.constructor=r,e&&(e.$model=r,r.$collection=e),r}function e(){function t(t){angular.extend(this,t)}return t.prototype.getIdField=function(){return"id"},t.prototype.getId=function(){return this[this.getIdField()]},t.extend=o,t}function n(t,e,n){function r(t){this.append(t)}return r.prototype=Object.create(Array.prototype),r.prototype.append=function(o){if(o){if(!(o instanceof Array))throw"Collection accepts only Array";var e=this.constructor.$model||t;this.push.apply(this,o.map(function(t){return t instanceof e||(t=new e(t)),t}))}},r.prototype.each=r.prototype.forEach,r.prototype.appendResource=function(t){var o=this;return t.then(function(t){return o.append(t),o})},r.prototype.filterExp=function(t,o){var e=n(t),r=this.filter(function(t){return angular.isObject(o)||(o={value:o}),o.$model=t,e(o)});return new this.constructor(r)},r.prototype.oneExp=function(t,o){return this.filterExp(t,o)[0]},r.prototype.byId=function(t){var o=this.filter(function(o){return o.getId()===t});return o[0]},r.prototype.toObject=function(){var t={};return this.each(function(o){t[o.getId()]=o}),t},r.load=function(t){return new this(t)},r.loadResource=function(t){var o=this.load();return o.appendResource(t)},r.extend=o,r.$model=t,r}t.$inject=["$q","$parse","$rootScope"],angular.module("mgmodel",[]).factory("mgModel",t)}();
//# sourceMappingURL=mgmodel.min.js.map