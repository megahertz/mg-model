"use strict";!function(){function t(t,e,n){function i(t,e){return this.scope=this.scope||n.$new(),this.scope.$on(t,e),this}function p(t,e){this.scope&&this.scope.$emit(t,e)}var c=o();return c.$collection=r(c,t,e),c.prototype.$on=c.$collection.prototype.$on=i,c.prototype.$emit=c.$collection.prototype.$emit=p,c}function e(t){function e(){n.apply(this,arguments)}var o=this.$collection,r=this.$properties,n=this;t.$collection&&(o=t.$collection,delete t.$collection),t.$properties&&(r=t.$properties,delete t.$properties);var i=t.constructor===Object?e:t.constructor;return i.prototype=Object.create(this.prototype,r),angular.extend(i,this),angular.extend(i.prototype,t),i.prototype.constructor=i,o&&(o.$model=i,i.$collection=o),i}function o(){function t(t){angular.extend(this,t)}return t.prototype.getIdField=function(){return"id"},t.prototype.getId=function(){return this[this.getIdField()]},t.extend=e,t}function r(t,o,r){function n(t){this.append(t)}n.prototype=Object.create(Array.prototype),n.prototype.each=n.prototype.forEach,n.prototype.append=function(e){if(!e)return this;if(!(e instanceof Array))throw"Collection accepts only Array";var o=this.constructor.$model||t;return this.push.apply(this,e.map(function(t){return t instanceof o||(t=new o(t)),t})),this},n.prototype.appendResource=function(t){var e=this;return t.then(function(t){return e.append(t),e})},n.prototype.filterExp=function(t,e){var o=r(t);return this.filter(function(t){return angular.isObject(e)||(e={value:e}),e.$model=t,o(e)})},n.prototype.oneExp=function(t,e){return this.filterExp(t,e)[0]},n.prototype.byId=function(t){var e=this.filter(function(e){return e.getId()===t});return e[0]},n.prototype.toObject=function(){var t={};return this.each(function(e){t[e.getId()]=e}),t};var i=["reverse","sort","filter","map","copyWithin","fill","concat"];return i.forEach(function(t){Array.prototype[t]&&(n.prototype[t]=function(){var e=Array.prototype[t].apply(this,arguments);return new this.constructor(e)})}),n.load=function(t){return new this(t)},n.loadResource=function(t){var e=this.load();return e.appendResource(t)},n.extend=e,n.$model=t,n}angular.module("mgmodel",[]).factory("mgModel",t),t.$inject=["$q","$parse","$rootScope"]}();
//# sourceMappingURL=mgmodel.min.js.map