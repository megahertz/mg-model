"use strict";!function(){function t(t,e,r){function i(t,e){return this.scope=this.scope||r.$new(),this.scope.$on(t,e),this}function c(t,e){this.scope&&this.scope.$emit(t,e)}var p=o();return p.$collection=n(p,t,e),p.prototype.$on=p.$collection.prototype.$on=i,p.prototype.$emit=p.$collection.prototype.$emit=c,p}function e(t){function e(){n.apply(this,arguments)}var o=this.$collection,n=this;t.$collection&&(o=t.$collection,delete t.$collection);var r=t.constructor===Object?e:t.constructor;return r.prototype=Object.create(this.prototype),angular.extend(r,this),angular.extend(r.prototype,t),r.prototype.constructor=r,o&&(o.$model=r,r.$collection=o),r}function o(){function t(t){angular.extend(this,t)}return t.prototype.getIdField=function(){return"id"},t.prototype.getId=function(){return this[this.getIdField()]},t.extend=e,t}function n(t,o,n){function r(t){this.append(t)}return r.prototype=Object.create(Array.prototype),r.prototype.each=r.prototype.forEach,r.prototype.append=function(e){if(!e)return this;if(!(e instanceof Array))throw"Collection accepts only Array";var o=this.constructor.$model||t;return this.push.apply(this,e.map(function(t){return t instanceof o||(t=new o(t)),t})),this},r.prototype.appendResource=function(t){var e=this;return t.then(function(t){return e.append(t),e})},r.prototype.filterExp=function(t,e){var o=n(t),r=this.filter(function(t){return angular.isObject(e)||(e={value:e}),e.$model=t,o(e)});return new this.constructor(r)},r.prototype.oneExp=function(t,e){return this.filterExp(t,e)[0]},r.prototype.byId=function(t){var e=this.filter(function(e){return e.getId()===t});return e[0]},r.prototype.toObject=function(){var t={};return this.each(function(e){t[e.getId()]=e}),t},r.load=function(t){return new this(t)},r.loadResource=function(t){var e=this.load();return e.appendResource(t)},r.extend=e,r.$model=t,r}angular.module("mgmodel",[]).factory("mgModel",t),t.$inject=["$q","$parse","$rootScope"]}();
//# sourceMappingURL=mgmodel.min.js.map